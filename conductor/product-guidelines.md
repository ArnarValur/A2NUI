# Product Guidelines: A2NUI

## Component Transformation Rules

### 1. Fidelity Principle
The A2UI version of a Nuxt UI component must visually and functionally match the original as closely as the A2UI protocol permits. Where A2UI lacks a direct mapping, document the gap and implement the closest approximation.

### 2. Protocol Compliance
All components must conform to the **A2UI Protocol v0.10** specification:
- JSONL streaming format
- Standard component catalog types (Heading, Text, Button, TextField, Container, etc.)
- Proper `surfaceId`, `beginRendering`, `surfaceUpdate`, and `dataModelUpdate` message structures
- Component ID uniqueness and reference integrity

### 3. Progressive Enhancement
A2UI components should degrade gracefully:
- Core functionality works with standard A2UI catalog components
- Enhanced styling/behavior via custom properties where supported
- Fallback rendering for unsupported features

## Testing Guidelines

### Gemini API Testing
- Use a **cheap Gemini model** (flash) for iterative testing â€” Tier 3 API key available
- Each component needs a test prompt that asks Gemini to generate the A2UI JSONL
- Validate generated JSONL against the A2UI schema
- Render the result in the Nuxt app to verify visual output

### Component Acceptance Criteria
- [ ] A2UI JSONL can be generated by Gemini from a natural language prompt
- [ ] JSONL validates against A2UI v0.10 schema
- [ ] Component renders correctly in the A2NUI Nuxt app
- [ ] Interactive elements (inputs, buttons) produce correct client-to-server events
- [ ] Dark/light mode support preserved

## Documentation Pattern

Each transformed component should have:
1. **Original:** Link to Nuxt UI docs (from `Nuxt UI (4.4.0)/Components/{category}/`)
2. **Mapping:** Which A2UI catalog components map to this Nuxt UI component
3. **Gaps:** What Nuxt UI features don't map to A2UI
4. **Test prompt:** Example prompt for Gemini to generate this component
5. **Sample JSONL:** Reference A2UI output

## Reference Material

| Resource | Path |
|----------|------|
| Nuxt UI Docs (Markdown) | `Nuxt UI (4.4.0)/` |
| Nuxt UI Source | `Nuxt UI Repo/src/` |
| A2UI Specification v0.10 | `A2UI Repo with Docs/specification/v0_10/` |
| A2UI Standard Catalog | `A2UI Repo with Docs/specification/v0_10/json/` |
| A2UI Renderers (Lit) | `A2UI Repo with Docs/renderers/lit/` |
| A2UI Samples | `A2UI Repo with Docs/samples/` |